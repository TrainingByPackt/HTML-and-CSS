<!DOCTYPE html>
<html lang=”en”>
    <head>
        <style> canvas { border: 1px solid gray; } </style>
    </head>
    <body>
        <canvas width="320" height="240" id="canvasArea"></canvas>
        <script>
            function drawRainbow(context, progress, alpha = 1.0) {
                const centerX = 160;
                const centerY = 120;
                let radius = 64;

                context.lineWidth = 4;
                context.globalAlpha = alpha;

                const coloursOfTheRainbow = [
                    "red", "orange", "yellow", "green", "blue", "indigo", "violet"
                ];
                const numberOfColours = coloursOfTheRainbow.length;
                for (let i = 0; i < numberOfColours; i++) {
                    context.beginPath();
                    context.strokeStyle = coloursOfTheRainbow[i];
                    const startAngle = Math.PI;
                    const endAngle = startAngle + (0.01 * progress * Math.PI);
                    context.arc(centerX, centerY, radius - (i*4), startAngle, endAngle, false);
                    context.stroke();
                }
            }

            function drawFrame(context, progress) {
                context.clearRect(0, 0, canvasElement.width, canvasElement.height);
                drawRainbow(context, 100, 0.1);
                drawRainbow(context, progress);
                progress += 1;
                if (progress <= 100) {
                    requestAnimationFrame(() => drawFrame(context, progress));
                }
            }

            const canvasElement = document.getElementById('canvasArea');
            if (canvasElement.getContext) {
                const context = canvasElement.getContext('2d');
                let progress = 0;
                requestAnimationFrame(() => drawFrame(context, progress));
            }
        </script>
    </body>
</html>